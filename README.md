# ğŸ‡»ğŸ‡³ Dá»± Ã¡n Kobo tiáº¿ng Viá»‡t

CÃ³ hai váº¥n Ä‘á» chÃ­nh khi sá»­ dá»¥ng mÃ¡y Ä‘á»c sÃ¡ch Kobo táº¡i Viá»‡t Nam:  

1. MÃ¡y Ä‘á»c Ä‘Æ°á»£c eBook tiáº¿ng Viá»‡t nhÆ°ng gáº·p lá»—i hiá»ƒn thá»‹ cÃ¡c pháº§n nhÆ° tiÃªu Ä‘á», má»¥c lá»¥c...
2. MÃ¡y khÃ´ng há»— trá»£ giao diá»‡n tiáº¿ng Viá»‡t (náº¿u ngÆ°á»i dÃ¹ng cáº§n)

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒ kháº¯c phá»¥c hai váº¥n Ä‘á» trÃªn.  

Báº£n cÃ i Ä‘áº·t *hoÃ n toÃ n miá»…n phÃ­* nÃ y cung cáº¥p giao diá»‡n tiáº¿ng Viá»‡t vÃ  sá»­a lá»—i hiá»ƒn thá»‹ tiáº¿ng Viá»‡t trÃªn cÃ¡c mÃ¡y Ä‘á»c sÃ¡ch Kobo.

## ğŸ”¥ 1. Chá»©c nÄƒng cá»§a báº£n cÃ i Ä‘áº·t
- Cung cáº¥p giao diá»‡n tiáº¿ng Viá»‡t cho mÃ¡y, hÆ¡n 3000 cÃ¢u Ä‘Æ°á»£c dá»‹ch, tá»‰ lá»‡ > 98%
- Sá»­a lá»—i hiá»ƒn thá»‹ tiáº¿ng Viá»‡t
- Sá»­a lá»—i khÃ´ng hiá»ƒn thá»‹ chÃ­nh xÃ¡c font monospace
- Dá»… cÃ i Ä‘áº·t, kÃ­ch thÆ°á»›c nhá» gá»n (bÃ© hÆ¡n 10MB)
- Há»— trá»£ nhiá»u dÃ²ng mÃ¡y, khÃ´ng phÃ¢n biá»‡t firmware
- ***TÃ¹y chá»n:*** cÃ i Ä‘áº·t thÃªm tá»« Ä‘iá»ƒn Anh-Viá»‡t Láº¡c Viá»‡t/TFlat 170 ngÃ n tá»« cho Kobo/Kindle táº¡i [redphx/tudien](https://github.com/redphx/tudien)

Giao diá»‡n Ä‘Æ°á»£c dá»‹ch dá»±a trÃªn báº£n dá»‹ch tá»« ChatGPT, sau Ä‘Ã³ Ä‘Æ°á»£c chá»‰nh sá»­a thá»§ cÃ´ng cho phÃ¹ há»£p.  
Báº¡n cÃ³ thá»ƒ Ä‘Ã³ng gÃ³p cho dá»± Ã¡n báº±ng cÃ¡ch bÃ¡o lá»—i hoáº·c Ä‘á» xuáº¥t cáº£i thiá»‡n cÃ¢u chá»¯ cá»§a giao diá»‡n.  

Xin cáº£m Æ¡n â™¥ï¸

| Trang chá»§ | Hoáº¡t Ä‘á»™ng | Má»¥c lá»¥c |
|:---------:|:---------:|:-------:|
| [![Trang chá»§](docs/images/screenshot-home.png)](docs/images/screenshot-home.png) | [![Hoáº¡t Ä‘á»™ng](docs/images/screenshot-activity.png)](docs/images/screenshot-activity.png) | [![Hoáº¡t Ä‘á»™ng](docs/images/screenshot-toc.png)](docs/images/screenshot-toc.png) |
| [redphx/tudien](https://github.com/redphx/tudien) | Font monospace | Chá»n ngÃ´n ngá»¯ |
| [![Tá»« Ä‘iá»ƒn](docs/images/screenshot-dict.png)](docs/images/screenshot-dict.png) | [![Font monospace](docs/images/screenshot-monospace.png)](docs/images/screenshot-monospace.png) | [![Chá»n ngÃ´n ngá»¯](docs/images/screenshot-language.png)](docs/images/screenshot-language.png) |

## ğŸ¤“ 2. HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

Theo lÃ½ thuyáº¿t thÃ¬ báº£n cÃ i Ä‘áº·t cÃ³ thá»ƒ dÃ¹ng Ä‘Æ°á»£c trÃªn nhiá»u dÃ²ng mÃ¡y, khÃ´ng phÃ¢n biá»‡t firmware.

***ÄÃ£ cÃ i Ä‘áº·t thÃ nh cÃ´ng trÃªn:***

| Thiáº¿t bá»‹     | 4.42.23296 | 4.38.23171 |
| ------------ |:----------:|:----------:|
| Clara BW     | âœ“          |            |
| Libra Colour | âœ“          |            |
| Libra 2      |            | âœ“          |

### CÃ¡c bÆ°á»›c cÃ i Ä‘áº·t

1. [Táº£i file `KoboRoot.tgz`](https://github.com/redphx/kobo-tieng-viet/releases/latest) vá» mÃ¡y
2. Káº¿t ná»‘i Kobo vá»›i mÃ¡y tÃ­nh qua cá»•ng USB
3. ChÃ©p file `KoboRoot.tgz` vá»«a táº£i vÃ o thÆ° má»¥c `.kobo` trÃªn Kobo. Äá»ƒ nguyÃªn, khÃ´ng giáº£i nÃ©n, tÃªn file pháº£i lÃ  `KoboRoot.tgz`.
  > Náº¿u báº¡n dÃ¹ng macOS vÃ  khÃ´ng tháº¥y thÆ° má»¥c `.kobo`, nháº¥n tá»• há»£p phÃ­m `Cmd + Shift + .` Ä‘á»ƒ hiá»‡n thÆ° má»¥c áº©n trong Finder
4. DÃ¹ng chá»©c nÄƒng `ThÃ¡o/Eject USB` trÃªn mÃ¡y tÃ­nh Ä‘á»ƒ ngáº¯t káº¿t ná»‘i an toÃ n, trÃ¡nh máº¥t dá»¯ liá»‡u
5. Náº¿u lÃ m Ä‘Ãºng, Kobo sáº½ tá»± Ä‘á»™ng cáº­p nháº­t vÃ  khá»Ÿi Ä‘á»™ng láº¡i. QuÃ¡ trÃ¬nh nÃ y chá»‰ máº¥t táº§m 3 phÃºt. ***KhÃ´ng táº¯t nguá»“n khi mÃ¡y Ä‘ang cáº­p nháº­t***.
6. MÃ¡y sáº½ tá»± Ä‘á»™ng chuyá»ƒn sang giao diá»‡n tiáº¿ng Viá»‡t. Náº¿u khÃ´ng, báº¡n cÃ³ thá»ƒ tá»± báº­t báº±ng cÃ¡ch:  
    `More > Settings > Language and dictionaries > Select your Language > Extra: vi`
7. ***TÃ¹y chá»n:*** cÃ i Ä‘áº·t thÃªm tá»« Ä‘iá»ƒn Anh-Viá»‡t Láº¡c Viá»‡t/TFlat 170 ngÃ n tá»« táº¡i [redphx/tudien](https://github.com/redphx/tudien)
8. Táº·ng â­ï¸ cho dá»± Ã¡n, vÃ  giá»›i thiá»‡u báº¡n bÃ¨, ngÆ°á»i thÃ¢n vá» dá»± Ã¡n nÃ y ğŸ¥°
9. HoÃ n táº¥t

Khi muá»‘n cáº­p nháº­t báº£n cÃ i Ä‘áº·t phiÃªn báº£n má»›i, báº¡n chá»‰ cáº§n thá»±c hiá»‡n láº¡i cÃ¡c bÆ°á»›c trÃªn.

## ğŸ“– 3. ThÃ´ng tin font

Báº£n cÃ i Ä‘áº·t nÃ y sáº½ thay Ä‘á»•i cÃ¡c font máº·c Ä‘á»‹nh cá»§a mÃ¡y (khÃ´ng há»— trá»£ tiáº¿ng Viá»‡t) thÃ nh cÃ¡c font khÃ¡c (há»— trá»£ tiáº¿ng Viá»‡t).

|                       | Font há»‡ thá»‘ng                             | Font má»›i                                                             |
| ---------------------:| ----------------------------------------- | -------------------------------------------------------------------- |
| **Serif**             | Rakuten Serif<br>Georgia (firmware cÅ©)    | [Aleo](https://fonts.google.com/specimen/Aleo)                       |
| **Sans Serif**        | Rakuten Sans<br>Avenir Next (firmware cÅ©) | [Roboto](https://fonts.google.com/specimen/Roboto)                   |
| **Monospace**         | KhÃ´ng há»— trá»£ (*)                          | [Source Code Pro](https://fonts.google.com/specimen/Source+Code+Pro) |
| **Há»— trá»£ tiáº¿ng Viá»‡t** | âœ—                                         | âœ“                                                                    |

> (*) Khi má»™t ePub dÃ¹ng `font-family: monospace`, Kobo sáº½ tÃ¬m má»™t font há»‡ thá»‘ng/tÃ¹y chá»n báº¯t Ä‘áº§u báº±ng `Courier `. Tuy nhiÃªn, Kobo khÃ´ng cÃ³ font nÃ o Ä‘Ã¡p á»©ng Ä‘Æ°á»£c tiÃªu chÃ­ trÃªn nÃªn viá»‡c hiá»ƒn thá»‹ cÃ¡c chá»¯ `monospace` bá»‹ sai. Äá»ƒ sá»­a lá»—i nÃ y, bá»™ cÃ i Ä‘áº·t sáº½ chÃ©p cÃ¡c font cáº§n thiáº¿t vÃ o thÆ° má»¥c font tÃ¹y chá»n `/fonts`.

Náº¿u khÃ´ng thÃ­ch cÃ¡c font nÃ y, báº¡n cÃ³ thá»ƒ thay chÃºng báº±ng cÃ¡ch cáº­p nháº­t font má»›i trong thÆ° má»¥c `fonts` (váº«n giá»¯ nguyÃªn tÃªn), rá»“i lÃ m theo hÆ°á»›ng dáº«n bÃªn dÆ°á»›i Ä‘á»ƒ táº¡o láº¡i báº£n cÃ i Ä‘áº·t.

## ğŸ™‹ 4. CÃ¡c cÃ¢u há»i thÆ°á»ng gáº·p

- **CÃ i Ä‘áº·t cÃ¡i nÃ y cÃ³ lÃ m hÆ° mÃ¡y khÃ´ng?**  
  > Báº£n cÃ i Ä‘áº·t chá»‰ cáº­p nháº­t font vÃ  thÃªm file ngÃ´n ngá»¯ tiáº¿ng Viá»‡t cho giao diá»‡n, khÃ´ng chá»‰nh sá»­a file há»‡ thá»‘ng nÃªn kháº£ nÄƒng lÃ m hÆ° mÃ¡y lÃ  gáº§n nhÆ° khÃ´ng cÃ³

- TÃ´i cÃ³ thá»ƒ sá»­ dá»¥ng báº£n cÃ i Ä‘áº·t cho Kobo phiÃªn báº£n nÃ o?
  > Theo lÃ½ thuyáº¿t thÃ¬ báº£n cÃ i Ä‘áº·t tÆ°Æ¡ng thÃ­ch vá»›i má»i dÃ²ng mÃ¡y vÃ  firmware

- TÃ´i Ä‘Ã£ cÃ i báº£n [lelinhtinh/kobo-tieng-viet](https://github.com/lelinhtinh/kobo-tieng-viet), giá» cÃ³ thá»ƒ cÃ i thÃªm báº£n nÃ y khÃ´ng?
  > HoÃ n toÃ n Ä‘Æ°á»£c, khÃ´ng lá»—i láº§m gÃ¬. Báº¡n chá»‰ cáº§n lÃ m theo hÆ°á»›ng dáº«n á»Ÿ trÃªn.

- Sau khi cáº­p nháº­t firmware má»›i cho Kobo tÃ´i cÃ³ pháº£i cÃ i Ä‘áº·t láº¡i tiáº¿ng Viá»‡t khÃ´ng?
  > CÃ³, vÃ¬ firmware má»›i sáº½ ghi Ä‘Ã¨ cÃ¡c font sá»­a lá»—i tiáº¿ng Viá»‡t

- LÃ m sao Ä‘á»ƒ biáº¿t Ä‘Æ°á»£c phiÃªn báº£n tiáº¿ng Viá»‡t Ä‘ang cÃ i Ä‘áº·t?
  > Xem táº¡i `ThÃªm > CÃ i Ä‘áº·t > Vá» Kobo`

## ğŸ‘©â€ğŸ’» 5. Viá»‡c cáº§n lÃ m

- [ ] Cáº£i thiá»‡n cÃ¢u chá»¯
- [ ] GitHub Action Ä‘á»ƒ tá»± Ä‘á»™ng build `KoboRoot.tgz`

## ğŸ› ï¸ 6. ThÃ´ng tin dÃ nh cho dev

### CÃ i Ä‘áº·t `lrelease` cá»§a Qt

YÃªu cáº§u pháº£i cÃ³ tool `lrelease` cá»§a Qt Ä‘á»ƒ chuyá»ƒn file dá»‹ch `.ts` sang `.qm`.  
ÄÃ£ dÃ¹ng thÃ nh cÃ´ng vá»›i [qt@5 trÃªn macOS](https://formulae.brew.sh/formula/qt@5).

- **Windows:** [cÃ i Ä‘áº·t Qt](https://www.qt.io/download-qt-installer-oss) rá»“i tÃ¬m file `lrelease.exe` trong thÆ° má»¥c cÃ i Ä‘áº·t.

- **MacOS:**
    ```sh
    brew install qt@5
    ```

  File sáº½ náº±m á»Ÿ vá»‹ trÃ­ `/opt/homebrew/opt/qt@5/bin/lrelease`

- **Linux:**  
    ```
    sudo apt-get install -y qttools5-dev-tools
    ```
  Sau Ä‘Ã³ dÃ¹ng trá»±c tiáº¿p `lrelease`

Sau khi cÃ³ Ä‘Æ°á»£c file `lrelease`, cáº¥u hÃ¬nh Ä‘Æ°á»ng dáº«n cá»§a nÃ³ trong file `.env`

### HÆ°á»›ng dáº«n cÃ¡ch build

1. CÃ i [uv](https://docs.astral.sh/uv/) cho Python 3
2. Cháº¡y lá»‡nh Ä‘á»ƒ cÃ i cÃ¡c package cáº§n thiáº¿t:

    ```bash
    uv sync
    ```

3. Cháº¡y lá»‡nh Ä‘á»ƒ build file `dist/KoboRoot.tgz`:

    ```bash
    uv run python build.py
    ```

4. CÃ i file trÃªn vÃ o Kobo Ä‘á»ƒ thá»­ nghiá»‡m

## ğŸ¤ 6. Lá»i cáº£m Æ¡n
- ChatGPT Ä‘Ã£ há»— trá»£ dá»‹ch
- [lelinhtinh/kobo-tieng-viet](https://github.com/lelinhtinh/kobo-tieng-viet) vÃ¬ cÃ¡c thÃ´ng tin vá» cÃ¡ch sá»­a lá»—i font tiáº¿ng Viá»‡t
- [pipcat/kobo](https://github.com/pipcat/kobo) vá» tool Ä‘á»ƒ xuáº¥t file ngÃ´n ngá»¯ há»‡ thá»‘ng tá»« firmware
